---
name: "pre-release"

on:
  push:
    branches:
      - "feature/views"

jobs:
  pre-release:
    name: "Pre Release"
    runs-on: "ubuntu-latest"

    steps:
      # ...
      - name: Checkout
        uses: actions/checkout@v2
        with:
          token: ${{ github.token }}

      - uses: actions/setup-node@v2
        with:
          node-version: '14'
      - run: yarn
      - run: cd ./packages/webapp
      - run: yarn build
        env:
          NODE_ENV: production
      - uses: actions/upload-artifact@v2
        with:
          name: build
          path: ./packages/webapp/dist/

#      - uses: "marvinpinto/action-automatic-releases@latest"
#        with:
#          repo_token: "${{ secrets.GITHUB_TOKEN }}"
#          automatic_release_tag: "latest"
#          prerelease: true
#          title: "Development Build"
#          files: |
#            LICENSE.txt
#            *.jar
